// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

/**
 * Product model mapping the frontend requirements to a robust database structure.
 */
model Product {
  // MongoDB uses @db.ObjectId for unique identifiers
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  title       String
  description String? // Added for more details
  price       Float
  category    String
  image       String
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  // Relationship to Seller
  sellerId    String   @db.ObjectId
  seller      Seller   @relation(fields: [sellerId], references: [id])

  @@map("products") // This names the collection 'products' in MongoDB
}

/**
 * Seller model mapping the frontend requirements for an artisan's profile.
 * Includes fields for the hero banner and profile photo as seen in the UI.
 */
model Seller {
  id           String    @id @default(auto()) @map("_id") @db.ObjectId
  name         String
  bio          String?   // A short description of the artisan
  profileImage String    // The circular profile photo
  heroBanner   String    // The large banner image used in cards/profile
  category     String    // e.g., "Cer√°mica", "Textiles"
  
  // Relations
  products     Product[] // Link to the products this artisan creates
  
  createdAt    DateTime  @default(now())
  updatedAt    DateTime  @updatedAt

  @@map("sellers") 
}
